{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/comlink/dist/esm/comlink.mjs","webpack:///./workers/compute.ts","webpack:///./workers/compute.worker.singleton.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","proxyMarker","createEndpoint","releaseProxy","throwMarker","isObject","val","transferHandlers","Map","canHandle","obj","port1","port2","MessageChannel","expose","port","start","createProxy","ep","path","target","isProxyReleased","proxy","Proxy","_target","prop","throwIfProxyReleased","requestResponseMessage","type","map","toString","then","closeEndPoint","length","fromWireValue","rawValue","transferables","toWireValue","_thisArg","rawArgumentList","last","slice","argumentList","processArguments","serialized","Error","isError","message","stack","assign","self","addEventListener","callback","ev","data","id","returnValue","parent","reduce","apply","transfers","transferCache","set","transfer","undefined","Promise","resolve","catch","wireValue","postMessage","removeEventListener","endpoint","constructor","isMessagePort","close","isReleased","processed","v","arr","Array","concat","WeakMap","handler","serializedValue","serialize","deserialize","msg","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","compute","base","pow","result","len","sin","cos","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","done","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","this","op","TypeError","pop","push","a","b","_a","keys","__webpack_exports__","k"],"mappings":"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","file":"86a2f649f04036bc016b.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/react-offload-ui-thread-research/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst proxyMarker = Symbol(\"Comlink.proxy\");\r\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\r\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\r\nconst throwMarker = Symbol(\"Comlink.thrown\");\r\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\r\n/**\r\n * Internal transfer handle to handle objects marked to proxy.\r\n */\r\nconst proxyTransferHandler = {\r\n    canHandle: (val) => isObject(val) && val[proxyMarker],\r\n    serialize(obj) {\r\n        const { port1, port2 } = new MessageChannel();\r\n        expose(obj, port1);\r\n        return [port2, [port2]];\r\n    },\r\n    deserialize(port) {\r\n        port.start();\r\n        return wrap(port);\r\n    },\r\n};\r\n/**\r\n * Internal transfer handler to handle thrown exceptions.\r\n */\r\nconst throwTransferHandler = {\r\n    canHandle: (value) => isObject(value) && throwMarker in value,\r\n    serialize({ value }) {\r\n        let serialized;\r\n        if (value instanceof Error) {\r\n            serialized = {\r\n                isError: true,\r\n                value: {\r\n                    message: value.message,\r\n                    name: value.name,\r\n                    stack: value.stack,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            serialized = { isError: false, value };\r\n        }\r\n        return [serialized, []];\r\n    },\r\n    deserialize(serialized) {\r\n        if (serialized.isError) {\r\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\r\n        }\r\n        throw serialized.value;\r\n    },\r\n};\r\n/**\r\n * Allows customizing the serialization of certain values.\r\n */\r\nconst transferHandlers = new Map([\r\n    [\"proxy\", proxyTransferHandler],\r\n    [\"throw\", throwTransferHandler],\r\n]);\r\nfunction expose(obj, ep = self) {\r\n    ep.addEventListener(\"message\", function callback(ev) {\r\n        if (!ev || !ev.data) {\r\n            return;\r\n        }\r\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\r\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\r\n        let returnValue;\r\n        try {\r\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\r\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\r\n            switch (type) {\r\n                case 0 /* GET */:\r\n                    {\r\n                        returnValue = rawValue;\r\n                    }\r\n                    break;\r\n                case 1 /* SET */:\r\n                    {\r\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\r\n                        returnValue = true;\r\n                    }\r\n                    break;\r\n                case 2 /* APPLY */:\r\n                    {\r\n                        returnValue = rawValue.apply(parent, argumentList);\r\n                    }\r\n                    break;\r\n                case 3 /* CONSTRUCT */:\r\n                    {\r\n                        const value = new rawValue(...argumentList);\r\n                        returnValue = proxy(value);\r\n                    }\r\n                    break;\r\n                case 4 /* ENDPOINT */:\r\n                    {\r\n                        const { port1, port2 } = new MessageChannel();\r\n                        expose(obj, port2);\r\n                        returnValue = transfer(port1, [port1]);\r\n                    }\r\n                    break;\r\n                case 5 /* RELEASE */:\r\n                    {\r\n                        returnValue = undefined;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        catch (value) {\r\n            returnValue = { value, [throwMarker]: 0 };\r\n        }\r\n        Promise.resolve(returnValue)\r\n            .catch((value) => {\r\n            return { value, [throwMarker]: 0 };\r\n        })\r\n            .then((returnValue) => {\r\n            const [wireValue, transferables] = toWireValue(returnValue);\r\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\r\n            if (type === 5 /* RELEASE */) {\r\n                // detach and deactive after sending release response above.\r\n                ep.removeEventListener(\"message\", callback);\r\n                closeEndPoint(ep);\r\n            }\r\n        });\r\n    });\r\n    if (ep.start) {\r\n        ep.start();\r\n    }\r\n}\r\nfunction isMessagePort(endpoint) {\r\n    return endpoint.constructor.name === \"MessagePort\";\r\n}\r\nfunction closeEndPoint(endpoint) {\r\n    if (isMessagePort(endpoint))\r\n        endpoint.close();\r\n}\r\nfunction wrap(ep, target) {\r\n    return createProxy(ep, [], target);\r\n}\r\nfunction throwIfProxyReleased(isReleased) {\r\n    if (isReleased) {\r\n        throw new Error(\"Proxy has been released and is not useable\");\r\n    }\r\n}\r\nfunction createProxy(ep, path = [], target = function () { }) {\r\n    let isProxyReleased = false;\r\n    const proxy = new Proxy(target, {\r\n        get(_target, prop) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            if (prop === releaseProxy) {\r\n                return () => {\r\n                    return requestResponseMessage(ep, {\r\n                        type: 5 /* RELEASE */,\r\n                        path: path.map((p) => p.toString()),\r\n                    }).then(() => {\r\n                        closeEndPoint(ep);\r\n                        isProxyReleased = true;\r\n                    });\r\n                };\r\n            }\r\n            if (prop === \"then\") {\r\n                if (path.length === 0) {\r\n                    return { then: () => proxy };\r\n                }\r\n                const r = requestResponseMessage(ep, {\r\n                    type: 0 /* GET */,\r\n                    path: path.map((p) => p.toString()),\r\n                }).then(fromWireValue);\r\n                return r.then.bind(r);\r\n            }\r\n            return createProxy(ep, [...path, prop]);\r\n        },\r\n        set(_target, prop, rawValue) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\r\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\r\n            const [value, transferables] = toWireValue(rawValue);\r\n            return requestResponseMessage(ep, {\r\n                type: 1 /* SET */,\r\n                path: [...path, prop].map((p) => p.toString()),\r\n                value,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        apply(_target, _thisArg, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const last = path[path.length - 1];\r\n            if (last === createEndpoint) {\r\n                return requestResponseMessage(ep, {\r\n                    type: 4 /* ENDPOINT */,\r\n                }).then(fromWireValue);\r\n            }\r\n            // We just pretend that `bind()` didn’t happen.\r\n            if (last === \"bind\") {\r\n                return createProxy(ep, path.slice(0, -1));\r\n            }\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 2 /* APPLY */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        construct(_target, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 3 /* CONSTRUCT */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n    });\r\n    return proxy;\r\n}\r\nfunction myFlat(arr) {\r\n    return Array.prototype.concat.apply([], arr);\r\n}\r\nfunction processArguments(argumentList) {\r\n    const processed = argumentList.map(toWireValue);\r\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\r\n}\r\nconst transferCache = new WeakMap();\r\nfunction transfer(obj, transfers) {\r\n    transferCache.set(obj, transfers);\r\n    return obj;\r\n}\r\nfunction proxy(obj) {\r\n    return Object.assign(obj, { [proxyMarker]: true });\r\n}\r\nfunction windowEndpoint(w, context = self, targetOrigin = \"*\") {\r\n    return {\r\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\r\n        addEventListener: context.addEventListener.bind(context),\r\n        removeEventListener: context.removeEventListener.bind(context),\r\n    };\r\n}\r\nfunction toWireValue(value) {\r\n    for (const [name, handler] of transferHandlers) {\r\n        if (handler.canHandle(value)) {\r\n            const [serializedValue, transferables] = handler.serialize(value);\r\n            return [\r\n                {\r\n                    type: 3 /* HANDLER */,\r\n                    name,\r\n                    value: serializedValue,\r\n                },\r\n                transferables,\r\n            ];\r\n        }\r\n    }\r\n    return [\r\n        {\r\n            type: 0 /* RAW */,\r\n            value,\r\n        },\r\n        transferCache.get(value) || [],\r\n    ];\r\n}\r\nfunction fromWireValue(value) {\r\n    switch (value.type) {\r\n        case 3 /* HANDLER */:\r\n            return transferHandlers.get(value.name).deserialize(value.value);\r\n        case 0 /* RAW */:\r\n            return value.value;\r\n    }\r\n}\r\nfunction requestResponseMessage(ep, msg, transfers) {\r\n    return new Promise((resolve) => {\r\n        const id = generateUUID();\r\n        ep.addEventListener(\"message\", function l(ev) {\r\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\r\n                return;\r\n            }\r\n            ep.removeEventListener(\"message\", l);\r\n            resolve(ev.data);\r\n        });\r\n        if (ep.start) {\r\n            ep.start();\r\n        }\r\n        ep.postMessage(Object.assign({ id }, msg), transfers);\r\n    });\r\n}\r\nfunction generateUUID() {\r\n    return new Array(4)\r\n        .fill(0)\r\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\r\n        .join(\"-\");\r\n}\n\nexport { createEndpoint, expose, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","// noting special, just a compute task that could use CPU\nexport function compute(base: number, pow: number): number {\n  let result = 0\n  let i = 0\n  const len = Math.pow(base, pow)\n  while (i < len) {\n    result += Math.sin(i) * Math.sin(i) + Math.cos(i) * Math.cos(i)\n    i++\n  }\n\n  return result\n}\n","import { expose } from 'comlink';\n  var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { compute as computeBlocking } from './compute';\nexport function compute(a, b) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, computeBlocking(a, b)];\n        });\n    });\n}\n;\n  expose(\n    Object.keys(__webpack_exports__).reduce(function(r,k){\n      if (k=='__esModule') return r;\n      r[k] = __webpack_exports__[k];\n      return r\n    },{})\n  )"],"sourceRoot":""}